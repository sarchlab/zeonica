array_config:
  rows: 2
  columns: 2
  cores:
    - row: 0
      column: 0
      core_id: "core_0_0"
      entries:
        - entry_id: "entry0"
          type: "loop"
          instructions:
            - operations:
                - opcode: "MOV"
                  src_operands:
                    - operand: "West"
                      color: "R"
                  dst_operands:
                    - operand: "$0" # catch token
                      color: "R"
            - operations:
                - opcode: "ST"
                  src_operands:
                    - operand: "$1"
                      color: "R"
                    - operand: "$0"
                      color: "R"
                  dst_operands:
                    - operand: "Router"
                      color: "R"
            - operations:
                - opcode: "STW"
                  src_operands:
                    - operand: "Router"
                      color: "R"
            - operations: # update addr
                - opcode: "ADD"
                  src_operands:
                    - operand: "$1"
                      color: "R"
                    - operand: "4"
                      color: "R"
                  dst_operands:
                    - operand: "$1"
                      color: "R"
            - operations: # throw token
                - opcode: "MOV"
                  src_operands:
                    - operand: "777"
                      color: "R"
                  dst_operands:
                    - operand: "East"
                      color: "R"

    - row: 1 
      column: 0
      core_id: "core_1_0"
      entries:
        - entry_id: "entry0"
          type: "loop"
          instructions:
            - operations: # catch token
                - opcode: "MOV"
                  src_operands:
                    - operand: "East"
                      color: "R"
                  dst_operands:
                    - operand: "$0"
                      color: "R"
            - operations:
                - opcode: "LD"
                  src_operands:
                    - operand: "$1"
                      color: "R"
                  dst_operands: # just for flag check
                    - operand: "Router"
                      color: "R"
            - operations: # emit to the west edge
                - opcode: "LDW"
                  src_operands:
                    - operand: "Router"
                      color: "R"
                  dst_operands:
                    - operand: "West"
                      color: "R"
            - operations:
                - opcode: "ADD"
                  src_operands:
                    - operand: "$1"
                      color: "R"
                    - operand: "4"
                      color: "R"
                  dst_operands:
                    - operand: "$1"
                      color: "R"
            
                      
    
    - row: 0
      column: 1
      core_id: "core_0_1"
      entries:
        - entry_id: "entry0"
          type: "loop"
          instructions:
            - operations:
                - opcode: "MOV"
                  src_operands:
                    - operand: "West"
                      color: "R"
                  dst_operands:
                    - operand: "$0"
                      color: "R"
            - operations:
                - opcode: "LD"
                  src_operands:
                    - operand: "$1"
                      color: "R"
                  dst_operands: # just for flag check
                    - operand: "Router"
                      color: "R"
            - operations:
                - opcode: "LDW"
                  src_operands:
                    - operand: "Router"
                      color: "R"
                  dst_operands:
                    - operand: "East" # emit to the east edge
                      color: "R"
            - operations:
                - opcode: "ADD"
                  src_operands:
                    - operand: "$1"
                      color: "R"
                    - operand: "4"
                      color: "R"
                  dst_operands:
                    - operand: "$1"
                      color: "R"
            - operations: # throw token to 1,1 
                - opcode: "MOV"
                  src_operands:
                    - operand: "$0"
                      color: "R"
                  dst_operands:
                    - operand: "North" 
                      color: "R"
    - row: 1
      column: 1
      core_id: "core_1_1"
      entries:
        - entry_id: "entry0"
          type: "loop"
          instructions:
            - operations:
                - opcode: "MOV"
                  src_operands:
                    - operand: "South"
                      color: "R"
                  dst_operands:
                    - operand: "$0"
                      color: "R"
            - operations:
                - opcode: "LD"
                  src_operands:
                    - operand: "$1"
                      color: "R"
                  dst_operands: # just for flag check
                    - operand: "Router"
                      color: "R"
            - operations:
                - opcode: "LDW"
                  src_operands:
                    - operand: "Router"
                      color: "R"
                  dst_operands:
                    - operand: "East" # emit to the east edge
                      color: "R"
            - operations:
                - opcode: "ADD"
                  src_operands:
                    - operand: "$1"
                      color: "R"
                    - operand: "4"
                      color: "R"
                  dst_operands:
                    - operand: "$1"
                      color: "R"
            - operations: # throw token to 0,1
                - opcode: "MOV"
                  src_operands:
                    - operand: "$0"
                      color: "R"
                  dst_operands:
                    - operand: "West"
                      color: "R"